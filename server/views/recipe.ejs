<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Partial Head Data -->
  <%- include('partials/head.ejs') %>
    <link rel="stylesheet" href="/recipe.css">
    <script src="/http_requests.js"></script>
    <script src="/recipe.js" defer></script>
</head>

<body>
  <!-- Navigation Menu -->
  <%- include('partials/nav.ejs') %>

    <!-- CENTER ENITRE PAGE CONTENT -->
    <!-- -------------------------- -->
    <div class="center-page-content w3-content w3-center">

      <!-- Cover image of the recipe -->
      <img class="cover-image" src="<%= images[0].link %> " alt="<%= images[0].description %> "></a>

      <!-- Recipe Heading -->
      <h1 style="font-size: xxx-large;">
        <%= recipeInfo[0].name %>
      </h1>

      <!-- Recipe Tags -->
      <span>
        <img src="/baking.png" alt="" style="width: 25px;">&nbsp;Tradition&nbsp;&nbsp;</img>
        <img src="/chef-hat.png" alt="" style="width: 25px;">&nbsp;Easy&nbsp;&nbsp;</img>
        <img src="/clock2.png" alt="" style="width: 25px;">&nbsp;20-40 min</img>
      </span>
      <!-- <hr> -->
      <!-- Recipe Description  -->
      <p>
        <%= recipeInfo[0].description %>
      </p>
      <hr>

      <!-- Ingredients Header -->
      <h2 class="w3-container">Ingredients</h2>

      <!-- Table of Ingredients -->
      <table id="ingredients-table" class="w3-table w3-bordered w3-hoverable w3-ripple"
        style="width: fit-content; margin: auto;">
        <% for( let index=0; index < ingredients.length; index++ ) { %>
          <tr>

            <td class="amounts">
              <%= ingredients[index].amount %>
            </td>

            <td>
              <%= ingredients[index].unit %>
            </td>

            <td>
              <%= ingredients[index].ingredient %>
            </td>

          </tr>
          <% } %>
      </table>


      <!-- BOX PORTIONS PICKER -->
      <div class="portions-block w3-mobile">

        <!-- Portions Picker -->
        <span class="portions-picker">
          <!-- Minus button -->
          <button id="minus-button" class="w3-button w3-green w3-circle w3-center w3-ripple portion-buttons"
            onclick="stepDownPortions()">-</button>

          <!-- Portions number  -->
          <input class="portions-number w3-center" id="nr-of-portions" type="number" name="" min="1" max="99"
            maxlength="2" value="<%= parseInt(recipeInfo[0].default_portions) %>"
            onchange="updateIngredientValues(value)">

          <!-- Plus button   -->
          <button id="plus-button" class="w3-button w3-green w3-circle w3-center w3-ripple portion-buttons"
            onclick="stepUpPortions()">+</button>
        </span>

        <div class="portions-text">PORTIONS</div>
      </div>
      <hr>
      <!-- Ingredients and Steps Responsive Resize -->
      <!-- --------------------------------------- -->
      <div class="w3-row">

        <!-- INGREDIENTS THAT GOES IN THE RECIPE  -->
        <!-- LEFT SIDE -->
        <div class="w3-quarter w3-container">
          <!-- CENTER CONTENT -->
          <div>

            <!-- END OF INGREDIENTS BOX -->
          </div>
          <!--END OF CENTER CONTENT-->
        </div>
        <!-- END OF FIRST HALF  -->

        <!-- STEPS TO TAKE TO COOK THE RECIPE  -->
        <!-- RIGHT SIDE  -->
        <div style="padding-right: 5px;">
          <div class="">
            <h2 class="steps-header">Steps</h2>
            <ol style="text-align:left;">
              <% steps.forEach(element=> { %>
                <li>
                  <%= element.description %>
                </li> <br>
                <% }) %>
            </ol>
          </div>
          <!-- END OF SECOND HALF  -->
        </div>
      </div>
    </div>
    <!-- END OF CENTER PAGE -->
</body>

</html>